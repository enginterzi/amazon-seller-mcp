{"numTotalTestSuites":6,"numPassedTestSuites":2,"numFailedTestSuites":4,"numPendingTestSuites":0,"numTotalTests":18,"numPassedTests":11,"numFailedTests":7,"numPendingTests":0,"numTodoTests":0,"snapshot":{"added":0,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0,"didUpdate":false},"startTime":1754445869191,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["MCP Server Integration"],"fullName":"MCP Server Integration should register and coordinate resources with tools","status":"failed","title":"should register and coordinate resources with tools","duration":4.206209000000001,"failureMessages":["ReferenceError: testConfig is not defined\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/server/integration.test.ts:49:40\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at runTest (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"location":{"line":61,"column":3},"meta":{}},{"ancestorTitles":["MCP Server Integration"],"fullName":"MCP Server Integration should handle errors in resource and tool handlers gracefully","status":"failed","title":"should handle errors in resource and tool handlers gracefully","duration":1.342458000000022,"failureMessages":["ReferenceError: testConfig is not defined\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/server/integration.test.ts:49:40\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at runTest (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"location":{"line":140,"column":3},"meta":{}},{"ancestorTitles":["MCP Server Integration"],"fullName":"MCP Server Integration should cleanup resources when server is closed","status":"failed","title":"should cleanup resources when server is closed","duration":0.7953330000000278,"failureMessages":["ReferenceError: testConfig is not defined\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/server/integration.test.ts:49:40\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20\n    at new Promise (<anonymous>)\n    at runWithTimeout (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1863:10)\n    at runHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1436:51)\n    at callSuiteHook (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1442:25)\n    at runTest (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1566:26)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)\n    at runSuite (file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1729:8)"],"location":{"line":187,"column":3},"meta":{}}],"startTime":1754445869455,"endTime":1754445869460.7954,"status":"failed","message":"","name":"/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/server/integration.test.ts"},{"assertionResults":[{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should store and retrieve cached values efficiently","status":"passed","title":"should store and retrieve cached values efficiently","duration":4.757000000000005,"failureMessages":[],"location":{"line":62,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should expire cached values after TTL","status":"passed","title":"should expire cached values after TTL","duration":22.791541999999993,"failureMessages":[],"location":{"line":71,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should support cache deletion operations","status":"passed","title":"should support cache deletion operations","duration":1.2293340000000512,"failureMessages":[],"location":{"line":81,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should clear all cached entries","status":"passed","title":"should clear all cached entries","duration":1.1689999999999827,"failureMessages":[],"location":{"line":91,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should track cache hit and miss statistics","status":"passed","title":"should track cache hit and miss statistics","duration":0.8172079999999937,"failureMessages":[],"location":{"line":106,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should cache function results when using caching wrapper","status":"passed","title":"should cache function results when using caching wrapper","duration":2.2433340000000044,"failureMessages":[],"location":{"line":119,"column":3},"meta":{}},{"ancestorTitles":["CacheManager Performance"],"fullName":"CacheManager Performance should configure cache manager settings","status":"passed","title":"should configure cache manager settings","duration":1.6923339999999598,"failureMessages":[],"location":{"line":132,"column":3},"meta":{}},{"ancestorTitles":["ConnectionPool Performance"],"fullName":"ConnectionPool Performance should provide HTTP and HTTPS agents for connection reuse","status":"passed","title":"should provide HTTP and HTTPS agents for connection reuse","duration":0.4674580000000219,"failureMessages":[],"location":{"line":173,"column":3},"meta":{}},{"ancestorTitles":["ConnectionPool Performance"],"fullName":"ConnectionPool Performance should track request statistics for monitoring","status":"passed","title":"should track request statistics for monitoring","duration":0.2504580000000374,"failureMessages":[],"location":{"line":182,"column":3},"meta":{}},{"ancestorTitles":["ConnectionPool Performance"],"fullName":"ConnectionPool Performance should configure connection pool settings","status":"passed","title":"should configure connection pool settings","duration":0.13295900000002803,"failureMessages":[],"location":{"line":195,"column":3},"meta":{}},{"ancestorTitles":["ConnectionPool Performance"],"fullName":"ConnectionPool Performance should cleanup resources when destroyed","status":"passed","title":"should cleanup resources when destroyed","duration":0.10675000000003365,"failureMessages":[],"location":{"line":215,"column":3},"meta":{}},{"ancestorTitles":["API Client Performance Optimizations"],"fullName":"API Client Performance Optimizations should initialize with connection pooling enabled","status":"failed","title":"should initialize with connection pooling enabled","duration":2.375833,"failureMessages":["TypeError: this.httpAgent.on is not a function\n    at ConnectionPool.monitorSocketEvents (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:264:20)\n    at ConnectionPool.startMonitoring (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:256:10)\n    at new ConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:159:10)\n    at ensureDefaultConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:336:29)\n    at getConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:346:3)\n    at new BaseApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/api/base-client.ts:171:28)\n    at Function.createTestApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/utils/test-setup.ts:403:20)\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/utils/performance-optimization.test.ts:225:33\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20"],"location":{"line":230,"column":3},"meta":{}},{"ancestorTitles":["API Client Performance Optimizations"],"fullName":"API Client Performance Optimizations should batch similar concurrent requests","status":"failed","title":"should batch similar concurrent requests","duration":0.6605829999999742,"failureMessages":["TypeError: this.httpAgent.on is not a function\n    at ConnectionPool.monitorSocketEvents (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:264:20)\n    at ConnectionPool.startMonitoring (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:256:10)\n    at new ConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:159:10)\n    at ensureDefaultConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:336:29)\n    at getConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:346:3)\n    at new BaseApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/api/base-client.ts:171:28)\n    at Function.createTestApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/utils/test-setup.ts:403:20)\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/utils/performance-optimization.test.ts:225:33\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20"],"location":{"line":236,"column":3},"meta":{}},{"ancestorTitles":["API Client Performance Optimizations"],"fullName":"API Client Performance Optimizations should cleanup expired batch entries","status":"failed","title":"should cleanup expired batch entries","duration":0.47912500000001046,"failureMessages":["TypeError: this.httpAgent.on is not a function\n    at ConnectionPool.monitorSocketEvents (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:264:20)\n    at ConnectionPool.startMonitoring (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:256:10)\n    at new ConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:159:10)\n    at ensureDefaultConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:336:29)\n    at getConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:346:3)\n    at new BaseApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/api/base-client.ts:171:28)\n    at Function.createTestApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/utils/test-setup.ts:403:20)\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/utils/performance-optimization.test.ts:225:33\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20"],"location":{"line":261,"column":3},"meta":{}},{"ancestorTitles":["API Client Performance Optimizations"],"fullName":"API Client Performance Optimizations should handle performance optimization errors gracefully","status":"failed","title":"should handle performance optimization errors gracefully","duration":0.708500000000015,"failureMessages":["TypeError: this.httpAgent.on is not a function\n    at ConnectionPool.monitorSocketEvents (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:264:20)\n    at ConnectionPool.startMonitoring (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:256:10)\n    at new ConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:159:10)\n    at ensureDefaultConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:336:29)\n    at getConnectionPool (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/utils/connection-pool.ts:346:3)\n    at new BaseApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/src/api/base-client.ts:171:28)\n    at Function.createTestApiClient (/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/utils/test-setup.ts:403:20)\n    at /Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/utils/performance-optimization.test.ts:225:33\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:155:11\n    at file:///Users/eterzi/kiro-projects/amazon-seller-mcp/node_modules/@vitest/runner/dist/chunk-hooks.js:1897:20"],"location":{"line":289,"column":3},"meta":{}}],"startTime":1754445869477,"endTime":1754445869516.7085,"status":"failed","message":"","name":"/Users/eterzi/kiro-projects/amazon-seller-mcp/tests/unit/utils/performance-optimization.test.ts"}]}